let t,e=Object.getPrototypeOf,r=e(e),l={get oldVal(){return this.val},get rawVal(){return this.val}},o=e(l),n=t=>({__proto__:l,val:t}),a=(t,o)=>{let n=e(o??0);return n===l?o.val:n!==r||t?.startsWith("on")?o:o()},d=(e,...r)=>(e.append(...r.flat(1/0).map(a.bind(t,t)).filter(e=>e!=t)),e),u=l=>{let u=(t,n,...u)=>{let[i,...w]=e(u[0]??0)===o?u:[{},...u],f=t?l.createElementNS(t,n):l.createElement(n);for(let[t,l]of Object.entries(i)){let o=a(t,l);"boolean"==typeof o?o&&f.setAttribute(t,""):e(o)!==r&&f.setAttribute(t,o)}return d(f,...w)},i=e=>({get:(r,l)=>u.bind(t,e,l)}),w=new Proxy(t=>new Proxy(u,i(t)),i());return{add:d,tags:w,state:n,derive:t=>n(t()),html:(...t)=>"<!DOCTYPE html>"+w.html(...t).outerHTML}};export default{vanWithDoc:u,...u("undefined"!=typeof window?window.document:null)};