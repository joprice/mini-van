let t,e=Object.getPrototypeOf,l=e(e),r={get oldVal(){return this.val}},n=e(r),o=t=>({__proto__:r,val:t}),d=(t,n)=>{let o=e(n??0);return o===r?n.val:o!==l||t?.startsWith("on")?n:n()},a=(e,...l)=>(e.append(...l.flat(1/0).map(d.bind(t,t)).filter(e=>e!=t)),e),u=r=>{let u=(t,o,...u)=>{let[i,...w]=e(u[0]??0)===n?u:[{},...u],f=t?r.createElementNS(t,o):r.createElement(o);for(let[t,r]of Object.entries(i)){let n=d(t,r);e(n)!==l&&f.setAttribute(t,n)}return a(f,...w)},i=e=>({get:(l,r)=>u.bind(t,e,r)}),w=new Proxy(t=>new Proxy(u,i(t)),i());return{add:a,tags:w,state:o,derive:t=>o(t()),html:(...t)=>"<!DOCTYPE html>"+w.html(...t).outerHTML}};export default{vanWithDoc:u,...u("undefined"!=typeof window?window.document:null)};